<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.spring.mapper.main.BannerMapper">



    <resultMap id="BaseResultMap" type="com.spring.model.Banner">
        <id column="banner_id"  property="banner_id" />
        <result column="city_name"  property="city_name" />
        <result column="banner_code"  property="banner_code" />
        <result column="banner_name" property="banner_name" />
        <result column="country_name"  property="country_name" />
        <result column="province_name"  property="province_name" />
        <result column="banner_type"  property="banner_type" />
    </resultMap>

    <insert id="insertBanner" parameterType="com.spring.model.Banner">
        INSERT INTO dim_banner (banner_id,city_id,banner_code,banner_name,banner_open_day,banner_scale,banner_type,data_source,cre_date,cre_user,upd_date,upd_user)
        VALUES   (#{banner_id},#{city_id},#{banner_code},#{banner_name},#{banner_open_day},#{banner_scale},
        #{banner_type},#{data_source},#{cre_date},#{cre_user},#{upd_date},#{upd_user})
    </insert>

    <update id="updateBanner" >
        UPDATE dim_banner SET banner_scale = #{banner_scale} WHERE banner_name = #{banner_name}
    </update>

    <delete id="deleteBannerByName" >
        DELETE FROM dim_banner   WHERE banner_name= #{name}
    </delete>

    <select id="getBannerByName" resultType="com.spring.model.Banner" >
        select * from  dim_banner where banner_name=#{name}
    </select>

    <select id="findAll" resultMap="BaseResultMap" >
        select * from  dim_banner
    </select>


</mapper>